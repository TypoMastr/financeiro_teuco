-- Script de importação para o Supabase - PARTE 8 DE 18

-- Inicia uma transação para garantir que todos os dados sejam inseridos corretamente.
DO $$
DECLARE
    -- Variável para armazenar os IDs dos membros recém-criados
    member_id_var UUID;
BEGIN

    -- 36. DAIANE ALVES CALDAS
    INSERT INTO public.members (name, is_exempt, on_leave, join_date, monthly_fee, activity_status)
    VALUES ('DAIANE ALVES CALDAS', false, true, '2025-01-01', 0, 'Ativo')
    RETURNING id INTO member_id_var;
    INSERT INTO public.leaves (member_id, start_date)
    VALUES (member_id_var, '2025-01-01');

    -- 37. DANIELE DE ARAÚJO FERREIRA
    INSERT INTO public.members (name, is_exempt, on_leave, join_date, monthly_fee, activity_status)
    VALUES ('DANIELE DE ARAÚJO FERREIRA', false, false, '2025-01-01', 70, 'Ativo')
    RETURNING id INTO member_id_var;
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-01-13', '2025-01', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-02-11', '2025-02', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-03-13', '2025-03', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-04-10', '2025-04', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-05-13', '2025-05', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-06-12', '2025-06', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-07-12', '2025-07', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-08-13', '2025-08', 'Pagamento histórico (não gera transação financeira)', NULL);

    -- 38. DANIELLE PINHEIRO NUNES
    INSERT INTO public.members (name, is_exempt, on_leave, join_date, monthly_fee, activity_status)
    VALUES ('DANIELLE PINHEIRO NUNES', false, false, '2025-01-01', 70, 'Ativo')
    RETURNING id INTO member_id_var;
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-01-02', '2025-01', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-01-30', '2025-02', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-03-28', '2025-03', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-04-14', '2025-04', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-05-09', '2025-05', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-06-19', '2025-06', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-07-24', '2025-07', 'Pagamento histórico (não gera transação financeira)', NULL);
    INSERT INTO public.payments (member_id, amount, payment_date, reference_month, comments, transaction_id) VALUES (member_id_var, 70, '2025-08-11', '2025-08', 'Pagamento histórico (não gera transação financeira)', NULL);

    -- 39. DARLENE GOMES
    INSERT INTO public.members (name, is_exempt, on_leave, join_date, monthly_fee, activity_status)
    VALUES ('DARLENE GOMES', false, false, '2025-01-01', 0, 'Ativo');

    -- 40. DENISE NUNES
    INSERT INTO public.members (name, is_exempt, on_leave, join_date, monthly_fee, activity_status)
    VALUES ('DENISE NUNES', true, false, '2025-01-01', 0, 'Ativo');

END $$;